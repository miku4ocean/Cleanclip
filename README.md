# CleanClip - 純文字擷取外掛

CleanClip 是一個 Chrome 擴充功能，可以從網頁擷取純文字內容，支援手動編輯和 AI 摘要匯出。

## 功能特色

### ✅ 已完成功能
- 🎯 **智慧內容擷取**: 使用 Readability.js 演算法擷取主文內容
- ✏️ **手動編輯**: 可在側邊欄中編輯刪除不需要的文字
- 💾 **全文匯出**: 儲存為純 .txt 文件
- 🤖 **AI 摘要**: 整合 OpenAI GPT API，支援多種模型選擇
- 🔐 **金鑰安全**: 用戶自行設定 API 金鑰，不寫死在程式中
- 💰 **成本控制**: 提供便宜模型選項，顯示費用資訊

### 🔮 未來功能
- 📄 PDF 匯出（圖文並茂的乾淨版本）
- 🎨 更多 UI 美化和動效

## 安裝方式

### 1. 開發者模式安裝
1. 開啟 Chrome 瀏覽器
2. 前往 `chrome://extensions/`
3. 開啟右上角的「開發人員模式」
4. 點擊「載入未封裝項目」
5. 選擇 `cleanclip` 資料夾
6. 安裝完成！

### 2. 使用方式
1. 瀏覽任何網頁
2. 點擊工具列上的 CleanClip 圖示
3. 側邊欄會自動開啟並擷取內容
4. 編輯文字內容（刪除不需要的部分）
5. 設定 OpenAI API 金鑰（如需摘要功能）
6. 選擇「儲存全文」或「摘要文章」

## API 設定

### OpenAI API 金鑰
1. 前往 [OpenAI API Keys](https://platform.openai.com/account/api-keys)
2. 建立新的 API 金鑰
3. 在 CleanClip 側邊欄頂部輸入金鑰

### 模型選擇
- **GPT-3.5 Turbo**: 便宜選項 ($0.001/1K tokens)
- **GPT-4o Mini**: 平衡選項 ($0.00015/1K tokens) - 推薦
- **GPT-4**: 高品質選項 ($0.03/1K tokens)

## 技術架構

```
cleanclip/
├── manifest.json          # Chrome 外掛配置
├── background.js          # 背景腳本
├── sidebar.html          # 側邊欄 HTML
├── sidebar.css           # 樣式表
├── sidebar.js            # React 側邊欄組件
├── content-script.js     # 內容擷取腳本
├── lib/
│   └── readability.js    # 文字擷取算法
├── icons/               # 外掛圖示
└── README.md           # 說明文件
```

## 測試清單

### 基本功能測試
- [ ] 外掛安裝成功
- [ ] 點擊圖示開啟側邊欄
- [ ] 內容自動擷取顯示
- [ ] 文字編輯功能正常
- [ ] 全文匯出下載

### API 功能測試
- [ ] API 金鑰設定儲存
- [ ] 模型選擇功能
- [ ] 摘要生成成功
- [ ] 錯誤處理正常

### 相容性測試
- [ ] 新聞網站 (如聯合新聞網)
- [ ] 部落格文章 (如 Medium)
- [ ] 技術文件 (如 GitHub)
- [ ] 電商網站商品頁面

## 開發指引

### 本地開發
1. 修改代碼後
2. 前往 `chrome://extensions/`
3. 點擊外掛的「重新載入」按鈕
4. 測試功能是否正常

### 調試方式
- **側邊欄調試**: 右鍵點擊側邊欄 → 檢查
- **背景腳本調試**: 在擴充功能頁面點擊「背景頁面」
- **內容腳本調試**: 在網頁上按 F12，查看 Console

## 版本歷史

### v1.0.0 (目前版本)
- ✅ 基礎架構建立
- ✅ 內容擷取功能
- ✅ 側邊欄 UI
- ✅ 文字編輯和匯出
- ✅ AI 摘要整合
- ✅ API 金鑰設定

## 已知問題

1. **某些動態網站**: 需要等待頁面完全載入
2. **特殊編碼網站**: 可能出現亂碼，需要手動調整
3. **複雜佈局網站**: Readability 算法可能無法完美擷取

## 貢獻指南

歡迎提交 Issue 和 Pull Request！

## 授權條款

MIT License