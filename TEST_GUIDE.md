# CleanClip 測試指南

## 🧪 功能測試清單

### 1. 基礎安裝測試
- [ ] **安裝檢查**: Chrome 擴充功能頁面顯示 CleanClip
- [ ] **圖示顯示**: 工具列出現 CleanClip 圖示
- [ ] **權限確認**: 外掛具備必要權限（activeTab, storage, scripting）

### 2. 內容擷取測試

#### 2.1 基本擷取功能
- [ ] **新聞網站**: 測試聯合新聞網、中時新聞網等
- [ ] **部落格文章**: 測試 Medium、個人部落格
- [ ] **技術文件**: 測試 GitHub README、技術文檔
- [ ] **電商網站**: 測試 PChome、momo 商品頁面

#### 2.2 測試步驟
1. 開啟測試網頁
2. 點擊 CleanClip 圖示
3. 檢查側邊欄是否開啟
4. 確認內容自動擷取顯示
5. 驗證文字內容正確性

#### 2.3 預期結果
- ✅ 主文內容成功擷取
- ✅ 頁首頁尾廣告被過濾
- ✅ 文字格式乾淨可讀
- ✅ 字符數統計正確

### 3. 編輯功能測試

#### 3.1 文字編輯
- [ ] **基本編輯**: 可以選取、刪除、修改文字
- [ ] **多行編輯**: 支援換行和段落調整
- [ ] **即時統計**: 字符數即時更新

#### 3.2 測試案例
```
測試步驟：
1. 擷取包含 1000+ 字的長文
2. 刪除前面 3 段不需要內容
3. 修改其中 1-2 個段落
4. 確認字符數正確更新
```

### 4. 檔案匯出測試

#### 4.1 全文匯出
- [ ] **下載觸發**: 點擊「儲存全文」按鈕
- [ ] **檔案格式**: 下載 .txt 格式檔案
- [ ] **檔名格式**: cleanclip-full-YYYY-MM-DD-HH-mm-ss.txt
- [ ] **內容完整**: 匯出內容與編輯框一致
- [ ] **編碼正確**: 繁體中文顯示正常

#### 4.2 測試步驟
```
1. 擷取測試文章
2. 編輯刪除部分內容
3. 點擊「儲存全文」
4. 檢查下載檔案
5. 用記事本開啟驗證內容
```

#### 4.3 PDF 匯出測試
- [ ] **PDF 產生**: 點擊「匯出PDF」按鈕
- [ ] **檔案格式**: 下載 .pdf 格式檔案
- [ ] **檔名格式**: cleanclip-pdf-YYYY-MM-DD-HH-mm-ss.pdf
- [ ] **內容完整**: PDF內容與編輯框一致
- [ ] **版面格式**: 標題、來源、內容排版正確
- [ ] **多頁處理**: 長文章正確分頁
- [ ] **中文支援**: 繁體中文顯示正常

#### 4.4 PDF測試步驟
```
1. 擷取 1000+ 字的長文章
2. 編輯內容（保留主要段落）
3. 點擊「匯出PDF」按鈕
4. 等待「PDF已產生：X 頁」提示
5. 檢查下載的 PDF 檔案
6. 用 PDF 閱讀器開啟驗證：
   - 標題顯示正確
   - 來源 URL 顯示
   - 內容排版整齊
   - 頁碼正確
   - 中文字體正常
```

### 5. API 功能測試

#### 5.1 金鑰設定測試
- [ ] **輸入介面**: API 金鑰輸入框正常顯示
- [ ] **密碼遮罩**: 輸入內容以 * 號遮罩
- [ ] **自動儲存**: 輸入後自動儲存至 chrome.storage
- [ ] **重新載入**: 重啟外掛後金鑰依然存在

#### 5.2 模型選擇測試
- [ ] **下拉選單**: 顯示 3 個 GPT 模型選項
- [ ] **費用顯示**: 每個模型顯示對應費用資訊
- [ ] **設定儲存**: 選擇後自動儲存
- [ ] **預設模型**: 預設選擇 gpt-3.5-turbo

### 6. AI 摘要功能測試

#### 6.1 正常流程測試
```
前置條件：設定有效的 OpenAI API 金鑰

測試步驟：
1. 擷取 500+ 字的文章
2. 確認 API 金鑰已設定
3. 點擊「摘要文章」按鈕
4. 等待處理完成
5. 檢查下載的摘要檔案

預期結果：
✅ 顯示「正在產生摘要...」狀態
✅ 成功下載 cleanclip-summary-時間戳.txt
✅ 摘要內容為繁體中文
✅ 摘要長度約 300 字以內
✅ 保留文章重點資訊
```

#### 6.2 錯誤處理測試
- [ ] **無金鑰**: 未設定金鑰時顯示錯誤訊息
- [ ] **無效金鑰**: 錯誤金鑰顯示 API 錯誤
- [ ] **無內容**: 空白內容時提示錯誤
- [ ] **網路錯誤**: 網路中斷時的錯誤處理
- [ ] **額度不足**: API 額度用完時的錯誤處理

### 7. 使用者介面測試

#### 7.1 版面配置
- [ ] **響應式設計**: 不同螢幕尺寸正常顯示
- [ ] **滾動功能**: 長文本支援滾動
- [ ] **按鈕狀態**: 無內容時按鈕 disabled
- [ ] **載入動畫**: API 處理時顯示 spinner

#### 7.2 互動體驗
- [ ] **hover 效果**: 按鈕懸停效果正常
- [ ] **focus 狀態**: 輸入框 focus 樣式
- [ ] **狀態指示**: 成功/錯誤狀態顏色區分
- [ ] **文字對比**: 確保文字可讀性

### 8. 相容性測試

#### 8.1 網站相容性
測試以下類型網站：

**新聞媒體**
- [ ] 聯合新聞網 (udn.com)
- [ ] 自由時報 (ltn.com.tw)
- [ ] 中時新聞網 (chinatimes.com)

**部落格平台**
- [ ] Medium.com
- [ ] 痞客邦 (pixnet.net)
- [ ] Blogger

**技術平台**
- [ ] GitHub
- [ ] Stack Overflow
- [ ] MDN Web Docs

**電商網站**
- [ ] PChome 商品頁
- [ ] momo 購物網商品頁

#### 8.2 瀏覽器相容性
- [ ] Chrome 最新版本
- [ ] Chrome 100+ 版本
- [ ] Edge (Chromium)

### 9. 效能測試

#### 9.1 內容擷取效能
- [ ] **小文章** (< 500 字): 2 秒內完成
- [ ] **中文章** (500-2000 字): 5 秒內完成  
- [ ] **長文章** (> 2000 字): 10 秒內完成

#### 9.2 記憶體使用
- [ ] **記憶體洩漏**: 多次使用後記憶體穩定
- [ ] **DOM 清理**: 不影響原網頁功能

### 10. 安全性測試

#### 10.1 資料安全
- [ ] **金鑰儲存**: 僅存於 chrome.storage.local
- [ ] **網路請求**: 僅向 OpenAI API 發送請求
- [ ] **內容隔離**: 不影響原網頁內容

#### 10.2 權限測試
- [ ] **最小權限**: 僅申請必要權限
- [ ] **跨域安全**: 遵守 CORS 政策

## 🐛 已知問題與限制

### 已知問題
1. **動態內容**: SPA 應用需要等待完全載入
2. **特殊編碼**: 某些非 UTF-8 網站可能出現亂碼
3. **複雜佈局**: 高度客製化網站可能擷取不準確

### 暫時解決方案
1. **重新整理網頁**後再擷取
2. **手動編輯**清理不正確的內容
3. **使用備用擷取**機制

## 📝 測試報告範本

```markdown
## 測試報告 - CleanClip v1.0.0

**測試日期**: YYYY-MM-DD  
**測試環境**: Chrome 版本號  
**測試人員**: 姓名  

### 通過測試 ✅
- [x] 基礎安裝功能
- [x] 內容擷取功能  
- [x] 檔案匯出功能
- [x] API 摘要功能

### 發現問題 ❌
1. **問題描述**: 具體問題內容
   - **重現步驟**: 1.開啟XX網站 2.點擊擷取 3.發生問題
   - **預期結果**: 應該要如何
   - **實際結果**: 實際發生什麼
   - **嚴重程度**: 高/中/低

### 改進建議 💡
1. 建議內容...

### 總結
整體功能正常/需要修正...
```

## 🚀 回歸測試流程

每次程式碼更新後，必須執行以下核心測試：

1. **基礎功能** (必測)
   - 安裝載入
   - 內容擷取
   - 檔案匯出

2. **API 功能** (有 API 金鑰時)
   - 摘要生成
   - 錯誤處理

3. **至少 3 個網站**測試相容性

通過所有測試後，才能提交 Git 版本。